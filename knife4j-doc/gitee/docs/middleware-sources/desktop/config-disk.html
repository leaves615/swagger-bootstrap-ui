<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-middleware-sources/desktop/config-disk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="search" type="application/opensearchdescription+xml" title="Knife4j" href="/opensearch.xml">

<!-- Google Tag Manager -->
    <script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-TKBX678",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
    <!-- End Google Tag Manager -->
<script src="/js/custom.js"></script>
<script src="/js/baidu.js"></script><title data-rh="true">Disk本地配置模式 | Knife4j</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://doc.xiaominfo.com/docs/middleware-sources/desktop/config-disk"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Disk本地配置模式 | Knife4j"><meta data-rh="true" name="description" content="Disk本地磁盘的配置中心模式是最简单的，用户只需要在本地磁盘建立一个数据目录即可。"><meta data-rh="true" property="og:description" content="Disk本地磁盘的配置中心模式是最简单的，用户只需要在本地磁盘建立一个数据目录即可。"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://doc.xiaominfo.com/docs/middleware-sources/desktop/config-disk"><link data-rh="true" rel="alternate" href="https://doc.xiaominfo.com/docs/middleware-sources/desktop/config-disk" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://doc.xiaominfo.com/docs/middleware-sources/desktop/config-disk" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://3CRIMRK623-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.a0cea5e9.css">
<link rel="preload" href="/assets/js/runtime~main.2cdbce79.js" as="script">
<link rel="preload" href="/assets/js/main.59d021b1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">跳到主要内容</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/knife4j-light.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/knife4j-dark.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Knife4j</b></a><a class="navbar__item navbar__link" href="/docs/quick-start">文档</a><a aria-current="page" class="navbar__item navbar__link changelog navbar__link--active" href="/docs/middleware-sources">中间件</a><a class="navbar__item navbar__link changelog" href="/docs/blog">Blog</a><a class="navbar__item navbar__link changelog" href="/docs/action">实战指南</a><a class="navbar__item navbar__link changelog" href="/docs/changelog">更新日志</a><a class="navbar__item navbar__link changelog" href="/docs/faq">FAQ</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">旧版本</a><ul class="dropdown__menu"><li><a class="dropdown__link" target="_blank" href="/v2/index.html">2.0.9</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="toggle_MW0i colorModeToggle_x44X"><button class="clean-btn toggleButton_yw5v toggleButtonDisabled_BJd7" type="button" disabled="" title="切换浅色/暗黑模式（当前为暗黑模式）" aria-label="切换浅色/暗黑模式（当前为暗黑模式）"><span><svg viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg" width="14" height="14" class="lightToggleIcon_SFTY"><g clip-path="url(#clip0_833_8168)"><path d="M6.59998 8.49999C7.98069 8.49999 9.09998 7.3807 9.09998 5.99999C9.09998 4.61928 7.98069 3.49999 6.59998 3.49999C5.21926 3.49999 4.09998 4.61928 4.09998 5.99999C4.09998 7.3807 5.21926 8.49999 6.59998 8.49999Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6.59985 0.5V1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6.59985 10.5V11.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2.7099 2.11L3.4199 2.82" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.77991 9.17999L10.4899 9.88999" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M1.09998 6H2.09998" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M11.0999 6H12.0999" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2.7099 9.88999L3.4199 9.17999" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.77991 2.82L10.4899 2.11" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_833_8168"><rect width="12" height="12" fill="white" transform="translate(0.599976)"></rect></clipPath></defs></svg><svg viewBox="0 0 13 12" width="14" height="14" class="darkToggleIcon_ekgs"><path d="M10.7001 6.39501C10.6215 7.24611 10.3021 8.05721 9.77927 8.7334C9.25646 9.40959 8.55189 9.92291 7.748 10.2133C6.9441 10.5036 6.07414 10.5591 5.2399 10.3731C4.40565 10.187 3.64164 9.76728 3.03726 9.1629C2.43287 8.55851 2.01312 7.7945 1.8271 6.96026C1.64108 6.12602 1.6965 5.25605 1.98688 4.45216C2.27725 3.64826 2.79056 2.94369 3.46675 2.42088C4.14294 1.89808 4.95404 1.57866 5.80515 1.50001C5.30685 2.17414 5.06707 3.00473 5.12941 3.84071C5.19175 4.6767 5.55208 5.46254 6.14485 6.05531C6.73762 6.64808 7.52346 7.0084 8.35944 7.07074C9.19542 7.13308 10.026 6.8933 10.7001 6.39501Z" stroke="currentColor" fill="transparent" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></button></div><a href="https://github.com/xiaoymin/swagger-bootstrap-ui" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="View on GitHub">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/knife4j-light.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/knife4j-dark.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU"><b>Knife4j</b></a><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item">
<div class="sidebar_donate">
    <div class="sidebar_sponsor"> 
        <a target="_blank" href="https://tiaocanshu.com?utm_source=knife4j"><img src="/images/sponsor/tiaocanshu/logo.png">
        </a>
    </div>
    
    <div class="sidebar_sponsor_submit">
        <a href="/docs/community/donate">成为赞助商</a>
    </div>
<div>
</div></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/middleware-sources">中间件介绍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/middleware-sources/spring-cloud-gateway/spring-gateway-introduction">Spring Cloud Gateway网关聚合</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/middleware-sources/spring-webflux/spring-webflux-introduction">Spring Webflux集成</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/middleware-sources/aggregation-introduction">Aggregation微服务聚合中间件</a><button aria-label="打开/收起侧边栏菜单「Aggregation微服务聚合中间件」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/middleware-sources/desktop-introduction">Insight独立渲染组件</a><button aria-label="打开/收起侧边栏菜单「Insight独立渲染组件」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/middleware-sources/desktop-introduction">介绍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/middleware-sources/desktop-install">安装</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/middleware-sources/desktop/service-introduction">数据源-服务中心</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/middleware-sources/desktop/config-introduction">数据源-配置中心</a><button aria-label="打开/收起侧边栏菜单「数据源-配置中心」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/middleware-sources/desktop/config-disk">Disk本地配置模式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/middleware-sources/desktop/config-nacos">Nacos配置中心模式</a></li></ul></li></ul></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/middleware-sources/desktop-introduction"><span itemprop="name">Insight独立渲染组件</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/middleware-sources/desktop/config-introduction"><span itemprop="name">数据源-配置中心</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Disk本地配置模式</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>Disk本地配置模式</h1><p>Disk本地磁盘的配置中心模式是最简单的，用户只需要在本地磁盘建立一个数据目录即可。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="启动配置">启动配置<a class="hash-link" href="#启动配置" title="标题的直接链接">​</a></h2><p>先来看Disk模式的docker-compose.yml信息：</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">docker-compose.yml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># 通过docker-compose可以快速部署knife4j服务</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">version</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;2.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">services</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">knife4j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">container_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> knife4j</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">desktop</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">restart</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> always</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;xiaoymin/knife4j:v2.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">network_mode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;bridge&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 本地磁盘目录映射</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> D</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">\Temp\data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">/knife4j/data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">ports</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;10000:10000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 指定配置属性模式为disk本地磁盘</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">environment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> knife4j.source=disk</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> knife4j.disk.dir=/knife4j/data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>属性说明：</p><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>volumes</td><td>docker磁盘挂载映射目录，规则：<code>宿主机本地目录(自定义):/knife4j/data</code></td></tr><tr><td>knife4j.source</td><td>代表当前容器以什么模式启动，disk模式则代表是当前本地磁盘模式</td></tr><tr><td>knife4j.disk.dir</td><td>代表disk模式下的配置信息读取目录，该目录可以存放OpenAPI离线文件(json/yml),也可以存放支持的服务中心以从远端拉取数据进行聚合</td></tr></tbody></table><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="文档配置">文档配置<a class="hash-link" href="#文档配置" title="标题的直接链接">​</a></h2><p>那么，当我们通过docker-compose将容器启动后，如何增加文档呢？</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="增加文档">增加文档<a class="hash-link" href="#增加文档" title="标题的直接链接">​</a></h3><p>针对disk配置中心模式，在上面我们指定的<code>volumes</code>目录下</p><p>用户可以建N个一级文件夹(文档),文件夹名称必须是英文或英文+数字，示例如下：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token operator">|</span><span class="token plain">-data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">------ROOT  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">------project1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">------project2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">------project3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">-----—project4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">-----—more</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ROOT目录代表的是根目录，最终访问文档的地址是：<code>http://ip:port/doc.html</code></p><p>而开发者自建的文件夹目录，例如project1、project2、project3等等，所代表的是一个项目名称，最终访问的地址如下：</p><table><thead><tr><th>项目code</th><th>文档地址</th></tr></thead><tbody><tr><td>ROOT</td><td>根目录，访问地址：<code>http://ip:port/doc.html</code></td></tr><tr><td>project1</td><td><code>http://ip:port/project1/doc.html</code></td></tr><tr><td>project2</td><td><code>http://ip:port/project2/doc.html</code></td></tr><tr><td>project3</td><td><code>http://ip:port/project3/doc.html</code></td></tr><tr><td>project4</td><td><code>http://ip:port/project4/doc.html</code></td></tr><tr><td>以此类推</td><td><code>http://ip:port/${code}/doc.html</code></td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="配置文档">配置文档<a class="hash-link" href="#配置文档" title="标题的直接链接">​</a></h3><p>在上面的介绍种，我们知道了如何增加多个文档，其实很简单，只需要在data目录建文件夹即可，那么建立好了文件夹后，如何配置呢？</p><p>这里需要涉及到Knife4jAggregation提供支持的4种模式了：Disk、Cloud、Eureka、Nacos</p><p><strong>一个项目文件夹只支持一种模式</strong></p><p>拿ROOT根目录来做示例说明，开发者如何配置。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="disk模式">Disk模式<a class="hash-link" href="#disk模式" title="标题的直接链接">​</a></h4><blockquote><p>此disk模式代表的是服务中心的disk，虽然有点绕，但希望别混淆。</p></blockquote><p>Disk模式在Knife4jAggregationDesktop中是最简单的，如果开发者拥有OpenAPI文档的静态<code>JSON</code>文件或者<code>yml</code>文件，那么就可以直接放在建好的文件夹中，不用任何配置，即可渲染。</p><p>目录结构如下：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token operator">|</span><span class="token plain">-data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">------ROOT  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">--------userOpenApi.json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">--------orderOpenApi.json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">--------goodsOpenApi.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在ROOT目录下，我们放置了三个OpenAPI文档的静态文件：<code>userOpenAPI</code>以及<code>orderOpenApi</code>、<code>goodsOpenApi.yml</code>,此时访问地址：<code>http://ip:port/doc.html</code></p><p>开发者就能在文档界面中看到会存在三个分组下的OpenAPI文档了。</p><p>那么随之问题也来了，在文档中，下拉框的选项名称是以文件的名称来命名显示的，如果要自定义显示应该怎么办？，此时就需要继续在ROOT目录添加一个名为<code>disk.properties</code>的配置文件来进行重命名配置</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.disk[0].routes[0].name=用户服务</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 此处location需要注意，只需要配置同级的文件名称即可</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.disk[0].routes[0].location=userOpenApi.json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.disk[0].routes[1].name=订单服务</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 此处location需要注意，只需要配置同级的文件名称即可</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.disk[0].routes[1].location=orderOpenApi.json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.disk[0].routes[2].name=商品服务</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 此处location需要注意，只需要配置同级的文件名称即可</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.disk[0].routes[2].location=goodsOpenApi.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>配置好后，无需重启，应用会自动加载</p><p>配置属性说明：</p><table><thead><tr><th>属性</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>knife4j</td><td><code>object</code></td><td>顶级目录</td></tr><tr><td>knife4j.disk<!-- -->[0]</td><td><code>array</code></td><td>disk模式文档，因为disk模式以文件夹名称进行了切割，所有这里所有的配置都配置下标为<code>0</code></td></tr><tr><td>knife4j.disk<!-- -->[0]<!-- -->.routes</td><td><code>array</code></td><td>disk模式聚合的文档数量，多个则下标增加即可</td></tr><tr><td>knife4j.disk<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.name</td><td><code>string</code></td><td>当前文档分组显示名称</td></tr><tr><td>knife4j.disk<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.location</td><td><code>string</code></td><td>当前文档在本目录下的文件名称，目前只支持以<code>.json</code>和<code>.yml</code>结尾的OpenAPI规范文件</td></tr><tr><td>knife4j.disk<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.debugUrl</td><td><code>string</code></td><td>当前文档在调试时的HTTP地址,例如：<code>http://192.168.1.1:9090</code></td></tr><tr><td>knife4j.disk<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.order</td><td><code>int</code></td><td>当前分组显示顺序值，排序规则为<code>asc</code></td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cloud模式">Cloud模式<a class="hash-link" href="#cloud模式" title="标题的直接链接">​</a></h4><p>Cloud模式则是需要在创建好的文件夹目录下新建<code>cloud.properties</code>配置文件，然后配置Cloud模式的节点属性</p><p>目录结构如下：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token operator">|</span><span class="token plain">-data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">------ROOT  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">--------cloud.properties</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例配置：</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.cloud[0].routes[0].name=用户</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.cloud[0].routes[0].uri=http://192.168.0.152:8999</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.cloud[0].routes[0].location=/v2/api-docs?group=2.X版本</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># more...具体参考Knife4jAggregation聚合组件配置Cloud模式</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>配置好后，无需重启，应用会自动加载</p><p>配置属性说明：</p><table><thead><tr><th>属性</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>knife4j</td><td><code>object</code></td><td>顶级目录</td></tr><tr><td>knife4j.cloud<!-- -->[0]</td><td><code>array</code></td><td>cloud模式文档，因为disk配置中心模式下以文件夹名称进行了切割，所有这里所有的配置都配置下标为<code>0</code></td></tr><tr><td>knife4j.cloud<!-- -->[0]<!-- -->.routes</td><td><code>array</code></td><td>cloud模式聚合的文档数量，多个则下标增加即可</td></tr><tr><td>knife4j.cloud<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.name</td><td><code>string</code></td><td>当前文档分组显示名称</td></tr><tr><td>knife4j.cloud<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.uri</td><td><code>string</code></td><td>cloud模式下获取OpenAPI信息的服务地址</td></tr><tr><td>knife4j.cloud<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.location</td><td><code>string</code></td><td>当前文档的实际OpenAPI接口地址</td></tr><tr><td>knife4j.cloud<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.debugUrl</td><td><code>string</code></td><td>当前文档在调试时的HTTP地址(如果不配置，默认走uri的地址),例如：<code>http://192.168.1.1:9090</code></td></tr><tr><td>knife4j.cloud<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.order</td><td><code>int</code></td><td>当前分组显示顺序值，排序规则为<code>asc</code></td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="eureka模式">Eureka模式<a class="hash-link" href="#eureka模式" title="标题的直接链接">​</a></h4><p>Eureka模式则是需要在创建好的文件夹目录下新建<code>eureka.properties</code>配置文件，然后配置eureka模式的节点属性</p><p>目录结构如下：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token operator">|</span><span class="token plain">-data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">------ROOT  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">--------eureka.properties</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.eureka[0].serviceUrl=http://localhost:10000/eureka/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.eureka[0].username=eureka鉴权账号</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.eureka[0].password=eureka鉴权密码</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.eureka[0].routes[0].name=用户</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.eureka[0].routes[0].serviceName=userService</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.eureka[0].routes[0].location=/v2/api-docs?group=2.X版本</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>配置好后，无需重启，应用会自动加载</p><p>配置属性说明：</p><table><thead><tr><th>属性</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>knife4j</td><td><code>object</code></td><td>顶级目录</td></tr><tr><td>knife4j.eureka<!-- -->[0]</td><td><code>array</code></td><td>eureka模式文档，因为disk配置中心模式下以文件夹名称进行了切割，所有这里所有的配置都配置下标为<code>0</code></td></tr><tr><td>knife4j.eureka<!-- -->[0]<!-- -->.serviceUrl</td><td><code>string</code></td><td>eureka服务注册中心地址</td></tr><tr><td>knife4j.eureka<!-- -->[0]<!-- -->.username</td><td><code>string</code></td><td>eureka服务注册中心用户名</td></tr><tr><td>knife4j.eureka<!-- -->[0]<!-- -->.password</td><td><code>string</code></td><td>eureka服务注册中心密码</td></tr><tr><td>knife4j.eureka<!-- -->[0]<!-- -->.routes</td><td><code>array</code></td><td>eureka模式聚合的文档数量，多个则下标增加即可</td></tr><tr><td>knife4j.eureka<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.name</td><td><code>string</code></td><td>当前文档分组显示名称</td></tr><tr><td>knife4j.eureka<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.serviceName</td><td><code>string</code></td><td>eureka服务注册中心中的真实服务名称</td></tr><tr><td>knife4j.eureka<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.location</td><td><code>string</code></td><td>当前文档的实际OpenAPI接口地址</td></tr><tr><td>knife4j.eureka<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.debugUrl</td><td><code>string</code></td><td>当前文档在调试时的HTTP地址(如果不配置，默认走从eureka注册中心解析拿到的服务真实地址)</td></tr><tr><td>knife4j.eureka<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.order</td><td><code>int</code></td><td>当前分组显示顺序值，排序规则为<code>asc</code></td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="nacos模式">Nacos模式<a class="hash-link" href="#nacos模式" title="标题的直接链接">​</a></h4><blockquote><p>推荐目标Nacos版本需2.0版本以上</p></blockquote><p>Nacos模式则是需要在创建好的文件夹目录下新建<code>nacos.properties</code>配置文件，然后配置nacos模式的节点属性</p><p>目录结构如下：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token operator">|</span><span class="token plain">-data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">------ROOT  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">|</span><span class="token plain">--------nacos.properties</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>示例配置如下：</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.nacos[0].server=127.0.0.1:8848</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.nacos[0].username=nacos</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.nacos[0].password=nacos</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.nacos[0].namespace=dev</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.nacos[0].routes[0].name=用户</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.nacos[0].routes[0].serviceName=userService</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.nacos[0].routes[0].groupName=DEFAULT_GROUP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">knife4j.nacos[0].routes[0].location=/v2/api-docs?group=2.X版本</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>配置好后，无需重启，应用会自动加载</p><p>配置属性说明：</p><table><thead><tr><th>属性</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>knife4j</td><td><code>object</code></td><td>顶级目录</td></tr><tr><td>knife4j.nacos<!-- -->[0]</td><td><code>array</code></td><td>nacos模式文档，因为disk配置中心模式下以文件夹名称进行了切割，所有这里所有的配置都配置下标为<code>0</code></td></tr><tr><td>knife4j.nacos<!-- -->[0]<!-- -->.server</td><td><code>string</code></td><td>nacos服务注册中心地址,规则：<code>ip:port</code>,不需要protocol</td></tr><tr><td>knife4j.nacos<!-- -->[0]<!-- -->.username</td><td><code>string</code></td><td>nacos服务注册中心用户名</td></tr><tr><td>knife4j.nacos<!-- -->[0]<!-- -->.password</td><td><code>string</code></td><td>nacos服务注册中心密码</td></tr><tr><td>knife4j.nacos<!-- -->[0]<!-- -->.password</td><td><code>string</code></td><td>nacos服务注册中心密码</td></tr><tr><td>knife4j.nacos<!-- -->[0]<!-- -->.namespace</td><td><code>string</code></td><td>nacos服务注册namespaceId</td></tr><tr><td>knife4j.nacos<!-- -->[0]<!-- -->.clusters</td><td><code>string</code></td><td>集群，多个以逗号分割</td></tr><tr><td>knife4j.nacos<!-- -->[0]<!-- -->.routes</td><td><code>array</code></td><td>nacos模式聚合的文档数量，多个则下标增加即可</td></tr><tr><td>knife4j.nacos<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.name</td><td><code>string</code></td><td>当前文档分组显示名称</td></tr><tr><td>knife4j.nacos<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.serviceName</td><td><code>string</code></td><td>nacos服务注册中心中的真实服务名称</td></tr><tr><td>knife4j.nacos<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.groupName</td><td><code>string</code></td><td>nacos服务注册中心中的真实服务所处分组名称，例如：<code>DEFAULT_GROUP</code></td></tr><tr><td>knife4j.nacos<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.namespace</td><td><code>string</code></td><td>nacos服务注册中心中的真实服务所处namespace</td></tr><tr><td>knife4j.nacos<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.location</td><td><code>string</code></td><td>当前文档的实际OpenAPI接口地址</td></tr><tr><td>knife4j.nacos<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.debugUrl</td><td><code>string</code></td><td>当前文档在调试时的HTTP地址(如果不配置，默认走从nacos注册中心解析拿到的服务真实地址)</td></tr><tr><td>knife4j.nacos<!-- -->[0]<!-- -->.routes<!-- -->[0]<!-- -->.order</td><td><code>int</code></td><td>当前分组显示顺序值，排序规则为<code>asc</code></td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">最后<!-- -->由 <b>xiaoyumin</b> <!-- -->于 <b><time datetime="2023-02-23T13:56:05.000Z">2023年2月23日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/middleware-sources/desktop/config-introduction"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">数据源-配置中心</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/middleware-sources/desktop/config-nacos"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Nacos配置中心模式</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#启动配置" class="table-of-contents__link toc-highlight">启动配置</a></li><li><a href="#文档配置" class="table-of-contents__link toc-highlight">文档配置</a><ul><li><a href="#增加文档" class="table-of-contents__link toc-highlight">增加文档</a></li><li><a href="#配置文档" class="table-of-contents__link toc-highlight">配置文档</a><ul><li><a href="#disk模式" class="table-of-contents__link toc-highlight">Disk模式</a></li><li><a href="#cloud模式" class="table-of-contents__link toc-highlight">Cloud模式</a></li><li><a href="#eureka模式" class="table-of-contents__link toc-highlight">Eureka模式</a></li><li><a href="#nacos模式" class="table-of-contents__link toc-highlight">Nacos模式</a></li></ul></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档指南</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/quick-start">文档</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/community/simple-demo">示例</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/changelog">更新日志</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/upgrading/upgrading-to-v4">升级到v4.0</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区&amp;友链</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://gitter.im/knife4j/knife4j" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.oschina.net/question/tag/swagger-bootstrap-ui" target="_blank" rel="noopener noreferrer" class="footer__link-item">开源中国<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://springdoc.cn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">spring中文文档<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">关注公众号</div><ul class="footer__items clean-list"><li class="footer__item"><img src="/images/website/qrcode.jpg" width="150"></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docusaurus.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitee.com/xiaoym/knife4j" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/xiaoymin/swagger-bootstrap-ui" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Apache License 2.0 | Copyright © 2018-2023-八一菜刀 浙ICP备18027673号-1 </div></div></div></footer></div>
<script src="/assets/js/runtime~main.2cdbce79.js"></script>
<script src="/assets/js/main.59d021b1.js"></script>
<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TKBX678" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) --></body>
</html>