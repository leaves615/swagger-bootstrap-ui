"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[797],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>g});var i=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=i.createContext({}),u=function(e){var n=i.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},d=function(e){var n=u(e.components);return i.createElement(p.Provider,{value:n},e.children)},s="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},c=i.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),s=u(t),c=a,g=s["".concat(p,".").concat(c)]||s[c]||m[c]||r;return t?i.createElement(g,l(l({ref:n},d),{},{components:t})):i.createElement(g,l({ref:n},d))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,l=new Array(r);l[0]=c;var o={};for(var p in n)hasOwnProperty.call(n,p)&&(o[p]=n[p]);o.originalType=e,o[s]="string"==typeof e?e:a,l[1]=o;for(var u=2;u<r;u++)l[u]=t[u];return i.createElement.apply(null,l)}return i.createElement.apply(null,t)}c.displayName="MDXCreateElement"},3379:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>p,default:()=>g,frontMatter:()=>o,metadata:()=>u,toc:()=>s});var i=t(87462),a=t(63366),r=(t(67294),t(3905)),l=["components"],o={},p="springfox \u6e90\u7801\u5206\u6790(\u4e94) web\u914d\u7f6e\u7c7bPlugin\u63d2\u4ef6\u7684\u4f7f\u7528",u={unversionedId:"action/springfox/springfox5",id:"action/springfox/springfox5",title:"springfox \u6e90\u7801\u5206\u6790(\u4e94) web\u914d\u7f6e\u7c7bPlugin\u63d2\u4ef6\u7684\u4f7f\u7528",description:"\u65f6\u95f4\uff1a2019-5-23 1450",source:"@site/docs/action/springfox/springfox5.md",sourceDirName:"action/springfox",slug:"/action/springfox/springfox5",permalink:"/docs/action/springfox/springfox5",draft:!1,tags:[],version:"current",lastUpdatedBy:"xiaoyumin",lastUpdatedAt:1660577531,formattedLastUpdatedAt:"2022\u5e748\u670815\u65e5",frontMatter:{},sidebar:"action",previous:{title:"springfox \u6e90\u7801\u5206\u6790(\u56db) \u914d\u7f6e\u7c7b\u521d\u59cb\u5316",permalink:"/docs/action/springfox/springfox4"},next:{title:"springfox \u6e90\u7801\u5206\u6790(\u516d) web\u914d\u7f6e\u7c7b\u626b\u63cf\u5305\u4f5c\u7528\u63a2\u7d22",permalink:"/docs/action/springfox/springfox6"}},d={},s=[{value:"\u524d\u8a00",id:"\u524d\u8a00",level:2},{value:"\u63d2\u4ef6",id:"\u63d2\u4ef6",level:2},{value:"DocumentationPlugin",id:"documentationplugin",level:3},{value:"ApiListingBuilderPlugin",id:"apilistingbuilderplugin",level:3},{value:"OperationBuilderPlugin",id:"operationbuilderplugin",level:3},{value:"ParameterBuilderPlugin",id:"parameterbuilderplugin",level:3},{value:"ExpandedParameterBuilderPlugin",id:"expandedparameterbuilderplugin",level:3},{value:"OperationModelsProviderPlugin",id:"operationmodelsproviderplugin",level:3},{value:"DefaultsProviderPlugin",id:"defaultsproviderplugin",level:3},{value:"PathDecorator",id:"pathdecorator",level:3},{value:"ApiListingScannerPlugin",id:"apilistingscannerplugin",level:3},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}],m={toc:s},c="wrapper";function g(e){var n=e.components,o=(0,a.Z)(e,l);return(0,r.kt)(c,(0,i.Z)({},m,o,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"springfox-\u6e90\u7801\u5206\u6790\u4e94-web\u914d\u7f6e\u7c7bplugin\u63d2\u4ef6\u7684\u4f7f\u7528"},"springfox \u6e90\u7801\u5206\u6790(\u4e94) web\u914d\u7f6e\u7c7bPlugin\u63d2\u4ef6\u7684\u4f7f\u7528"),(0,r.kt)("p",null,"\u65f6\u95f4\uff1a2019-5-23 14:46:50"),(0,r.kt)("p",null,"\u5730\u70b9\uff1a\u5bb6\u4e2d"),(0,r.kt)("h2",{id:"\u524d\u8a00"},"\u524d\u8a00"),(0,r.kt)("p",null,"\u6211\u4eec\u5728\u4e0a\u4e00\u7bc7\u6587\u7ae0,\u901a\u8fc7",(0,r.kt)("inlineCode",{parentName:"p"},"@EnableSwagger2"),"\u6ce8\u89e3,\u77e5\u9053springfox\u4f7f\u7528\u5f00\u542fPlugin\u6ce8\u89e3\u7684\u914d\u7f6e,\u6ce8\u5165\u4e86\u5f88\u591aPlugin\u7684\u914d\u7f6e\u7c7b\uff0c\u7ed3\u5408\u6211\u4eec\u7b2c\u4e8c\u7bc7\u9488\u5bf9",(0,r.kt)("a",{parentName:"p",href:"https://www.xiaominfo.com/2019/05/22/springfox-3/",target:"_blank",rel:"noopener"},"Spring Plugin\u7684\u4f7f\u7528\u6587\u7ae0"),"\u4ecb\u7ecd,\u8be5\u7bc7\u4e3b\u8981\u63a2\u7d22springfox\u4e2d\u7684\u5404\u79cd\u4e0d\u540cPlugin\u7684\u5177\u4f53\u4f5c\u7528,\u4ee5\u53ca\u58f0\u660e\u4e86\u90a3\u4e9b\u65b9\u6cd5"),(0,r.kt)("h2",{id:"\u63d2\u4ef6"},"\u63d2\u4ef6"),(0,r.kt)("p",null,"\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"SpringfoxWebMvcConfiguration"),"\u914d\u7f6e\u4e2d,\u4e3b\u8981\u6d89\u53ca\u4e86\u4ee5\u4e0bPlugin"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"DocumentationPlugin"),(0,r.kt)("li",{parentName:"ul"},"ApiListingBuilderPlugin"),(0,r.kt)("li",{parentName:"ul"},"OperationBuilderPlugin"),(0,r.kt)("li",{parentName:"ul"},"ParameterBuilderPlugin"),(0,r.kt)("li",{parentName:"ul"},"ExpandedParameterBuilderPlugin"),(0,r.kt)("li",{parentName:"ul"},"OperationModelsProviderPlugin"),(0,r.kt)("li",{parentName:"ul"},"DefaultsProviderPlugin"),(0,r.kt)("li",{parentName:"ul"},"PathDecorator"),(0,r.kt)("li",{parentName:"ul"},"ApiListingScannerPlugin")),(0,r.kt)("p",null,"\u4ee3\u7801\u7ed3\u6784\u4e00\u89c8\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{src:t(35375).Z,width:"499",height:"496"})),(0,r.kt)("p",null,"plugin\u4e2d\u58f0\u660e\u7684\u63a5\u53e3,\u90fd\u662f\u4e3a\u5904\u7406contexts\u4e0a\u4e0b\u6587\u4e2d\u7684\u5c5e\u6027"),(0,r.kt)("h3",{id:"documentationplugin"},"DocumentationPlugin"),(0,r.kt)("p",null,"\u5148\u6765\u770b",(0,r.kt)("inlineCode",{parentName:"p"},"DocumentationPlugin"),"\u7684\u6e90\u7801"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public interface DocumentationPlugin extends Plugin<DocumentationType> {\n  /**\n   * @return indicator to determine if the plugin is enabled\n   */\n  boolean isEnabled();\n\n  DocumentationType getDocumentationType();\n\n  /**\n   * Creates a documentation context based on a given DocumentationContextBuilder\n   *\n   * @param builder - @see springfox.documentation.spi.service.contexts.DocumentationContextBuilder\n   * @return context to use for building the documentation\n   */\n  DocumentationContext configure(DocumentationContextBuilder builder);\n\n  /**\n   * Gets the group name for the plugin. This is expected to be unique for each instance of the plugin\n   * @return group the plugin belongs to\n   */\n  String getGroupName();\n}\n")),(0,r.kt)("p",null,"\u6b64Plugin\u4f7f\u7528\u7684\u5206\u9694\u7b26\u7c7b\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"DocumentationType"),",\u6587\u6863\u7c7b\u578b,\u5728Springfox\u4e2d\u58f0\u660e\u4e86\u4e09\u4e2a\u7248\u672c\u7684\u6587\u6863\u7c7b\u578b\uff0c\u4e3b\u8981\u662f\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"SWAGGER_2:swagger\u76842.0\u7248\u672c"),(0,r.kt)("li",{parentName:"ul"},"SWAGGER_12:Swagger\u76841.2\u7248\u672c"),(0,r.kt)("li",{parentName:"ul"},"SPRING_WEB:springfox\u9879\u76ee\u662f\u7531\u539fspring-mvc-swagger\u9879\u76ee\u6f14\u53d8\u800c\u6765,\u6240\u4ee5\u8fd9\u662f\u6700\u65e9\u7684\u4e00\u4e2a\u7248\u672c")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"DocumentationPlugin"),"\u5b9a\u4e49\u4e86\u4e09\u4e2a\u65b9\u6cd5\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u662f\u5426\u542f\u7528"),(0,r.kt)("li",{parentName:"ul"},"\u83b7\u53d6\u6587\u6863\u7c7b\u578b"),(0,r.kt)("li",{parentName:"ul"},"\u901a\u8fc7\u6587\u6863\u4e0a\u4e0b\u6587Builder\u6784\u5efa\u6587\u6863\u4e0a\u4e0b\u6587\u5bf9\u8c61"),(0,r.kt)("li",{parentName:"ul"},"\u83b7\u53d6\u5206\u7ec4\u540d\u79f0")),(0,r.kt)("p",null,"\u90a3\u4e48,\u4ed6\u7684\u5b9e\u73b0\u7c7b\u662f\u8c01\uff0c\u6211\u4eec\u901a\u8fc7IDEA\u7684\u7f16\u8f91\u5668\u529f\u80fd\u80fd\u8f7b\u677e\u5b9a\u4f4d\u5230,\u662fDocket\u7c7b"),(0,r.kt)("p",null,"\u6765\u770b\u7c7b\u56fe\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{src:t(68644).Z,width:"662",height:"1196"})),(0,r.kt)("p",null,"\u7531\u4e8eDocket\u5bf9\u8c61\u662f\u6700\u7ec8\u5b9e\u73b0\u7c7b,\u800c\u6211\u4eec\u5f00\u53d1\u8005\u4e00\u822c\u5728\u4f7f\u7528\u65f6,\u90fd\u662f\u901a\u8fc7\u521b\u5efaDocket\u7684\u5b9e\u4f53\u5bf9\u8c61\u6765\u6ce8\u5165\u5230Spring\u7684\u5bb9\u5668\u4e2d"),(0,r.kt)("p",null,"\u6240\u4ee5,\u6211\u4eec\u521b\u5efa\u51e0\u4e2aDocket\u5bf9\u8c61\u7684Bean\u5b9e\u4f8b\uff0c\u90a3\u4e48\u901a\u8fc7",(0,r.kt)("inlineCode",{parentName:"p"},"PluginRetry<DocumentationPlugin,DocumentationType>"),"\u7684getPlugins()\u65b9\u6cd5,\u6700\u7ec8\u5c31\u4f1a\u83b7\u53d6\u5230\u5916\u90e8\u6ce8\u5165\u7684Docket\u5bf9\u8c61\u5b9e\u4f8b,\u7136\u540e\u518d\u7a0b\u5e8f\u4e2d\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e86"),(0,r.kt)("h3",{id:"apilistingbuilderplugin"},"ApiListingBuilderPlugin"),(0,r.kt)("p",null,"\u6765\u770b",(0,r.kt)("inlineCode",{parentName:"p"},"ApiListingBuilderPlugin"),"\u7684\u6e90\u7801"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public interface ApiListingBuilderPlugin extends Plugin<DocumentationType> {\n  /**\n   * Implement this method to override the ApiListing using the ApiListingBuilder\n   *\n   * @param apiListingContext - context that can be used to override the model property attributes\n   * @see springfox.documentation.service.ApiListing\n   * @see springfox.documentation.builders.ApiListingBuilder\n   */\n  void apply(ApiListingContext apiListingContext);\n}\n")),(0,r.kt)("p",null,"\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"ApiListingBuilderPlugin"),"\u63d2\u4ef6\u7c7b\u9700\u8981\u5b9e\u73b0apply\u65b9\u6cd5,\u4e3b\u8981\u662f\u5904\u7406ApiListingContext\u4e0a\u4e0b\u6587\u7684\u5c5e\u6027\u4fe1\u606f"),(0,r.kt)("p",null,"\u6765\u770b\u7c7b\u56fe\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{src:t(9674).Z,width:"1131",height:"535"})),(0,r.kt)("p",null,"\u4ece",(0,r.kt)("inlineCode",{parentName:"p"},"ApiListingBuilderPlugin"),"\u7c7b\u56fe\u4e2d,\u6211\u4eec\u53ef\u4ee5\u770b\u5230,\u4ed6\u6709\u4e09\u4e2a\u5b50\u7c7b,\u5206\u522b\u662f\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"MediaTypeReader\uff1a\u83b7\u53d6\u63a5\u53e3\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"RequestMapping"),"\u6ce8\u89e3,\u8d4b\u503cProduces\u548cConsumes\u5c5e\u6027"),(0,r.kt)("li",{parentName:"ul"},"ApiListingReader\uff1a\u9488\u5bf9controller\u540d\u79f0\u7684\u5904\u7406\u64cd\u4f5c,\u6700\u540e\u8d4b\u503c\u7ed9ApiListingBuilder\u5bf9\u8c61description\u5c5e\u6027"),(0,r.kt)("li",{parentName:"ul"},"SwaggerApiListingReader:\u83b7\u53d6@Api\u6ce8\u89e3,\u8d4b\u503ctag\u53cadescription\u5c5e\u6027")),(0,r.kt)("p",null,"\u8fd9\u4e09\u4e2a\u5b9e\u73b0\u7c7b\u90fd\u901a\u8fc7",(0,r.kt)("inlineCode",{parentName:"p"},"@Component"),"\u6ce8\u89e3\u6ce8\u5165\u5230\u4e86Spring\u7684\u5bb9\u5668\u4e2d"),(0,r.kt)("h3",{id:"operationbuilderplugin"},"OperationBuilderPlugin"),(0,r.kt)("p",null,"springfox\u4e2d\u7684\u4e00\u4e9b\u5217\u63d2\u4ef6Plugin\u6700\u7ec8\u7684\u4f5c\u7528\u90fd\u662f\u5206\u522b\u4e3a\u5b9a\u4e49\u4f20\u53c2\u7684Context\u4e0a\u4e0b\u6587\u8fdb\u884c\u4e00\u7cfb\u5217\u7684\u8d4b\u503c\u5904\u7406"),(0,r.kt)("p",null,"\u6bcf\u4e2a\u4e0a\u4e0b\u6587\u4e2d\u51e0\u4e4e\u90fd\u4f1a\u5b58\u5728\u8be5\u5bf9\u8c61\u7684Builder,\u6700\u7ec8\u901a\u8fc7\u5404\u79cd\u4e0d\u540c\u7684Plugin\u6765\u5206\u522b\u8fdb\u884c\u8d4b\u503c,\u8fd9\u6837\u6574\u4e2a\u7a0b\u5e8f\u67b6\u6784\u4f1a\u6e05\u6670\u5f88\u591a"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Operation"),"\u4e5f\u4e0d\u4f8b\u5916,\u5148\u6765\u770bOperation\u7684\u4e0a\u4e0b\u6587\u7c7b"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"OperationContext.java")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public class OperationContext {\n    //builder\u51fd\u6570\n  private final OperationBuilder operationBuilder;\n    //Spring\u4e2d\u63a5\u53e3\u7684\u8bf7\u6c42\u65b9\u6cd5\u7c7b\u578b\u679a\u4e3e\n  private final RequestMethod requestMethod;\n    //\u8bf7\u6c42\u63a5\u53e3\u4e0a\u4e0b\u6587\n  private final RequestMappingContext requestContext;\n  private final int operationIndex;\n    //getter setter and constructor\n    \n}\n")),(0,r.kt)("p",null,"\u6b64\u65f6,\u6211\u4eec\u6765\u770b",(0,r.kt)("inlineCode",{parentName:"p"},"OperationBuilderPlugin"),"\u63d2\u4ef6\u7684\u6e90\u7801\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public interface OperationBuilderPlugin extends Plugin<DocumentationType> {\n  /**\n   * Implement this method to override the Operation using the OperationBuilder available in the context\n   *\n   * @param context - context that can be used to override the parameter attributes\n   * @see springfox.documentation.service.Operation\n   * @see springfox.documentation.builders.OperationBuilder\n   */\n  void apply(OperationContext context);\n}\n")),(0,r.kt)("p",null,"\u9876\u7ea7Plugin\u58f0\u660e\u63a5\u53e3,\u5206\u5c42\u9010\u6b65\u7ed9OperationContext\u5bf9\u8c61\u8d4b\u503c"),(0,r.kt)("p",null,"\u5148\u6765\u770b\u90e8\u5206\u7c7b\u56fe\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{src:t(73682).Z,width:"1552",height:"1135"})),(0,r.kt)("p",null,"\u7531\u4e8e",(0,r.kt)("inlineCode",{parentName:"p"},"OperationBuilderPlugin"),"\u5b9e\u73b0\u7c7b\u6bd4\u8f83\u591a,\u6b64\u5904\u7c7b\u56fe\u8fdb\u5217\u51fa\u5176\u4e2d\u56db\u4e2a\u5b9e\u73b0\u7c7b,\u6211\u4eec\u901a\u8fc7\u6587\u5b57\u6765\u4e00\u4e00\u8bf4\u660e"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"DefaultOperationReader"),":\u8bf7\u6c42\u65b9\u6cd5\u3001\u63a5\u53e3\u8bf4\u660e\u3001\u552f\u4e00id\u503c"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MediaTypeReader"),":consumes\u3001produces"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OperationAuthReader"),":\u6743\u9650\u8d4b\u503c"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OperationDeprecatedReader"),"\uff1b\u63a5\u53e3\u662f\u5426\u8fc7\u65f6"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OperationHiddenReader"),"\uff1a\u662f\u5426\u9690\u85cf"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OperationHttpMethodReader"),":\u63a5\u53e3\u8bf7\u6c42\u65b9\u6cd5"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OperationImplicitParameterReader"),":\u9488\u5bf9",(0,r.kt)("inlineCode",{parentName:"li"},"@ApiImplicitParam"),"\u6ce8\u89e3\u7684\u63a5\u53e3\u8fdb\u884c\u8bfb\u53d6\u8d4b\u503c"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OperationImplicitParametersReader"),":\u9488\u5bf9",(0,r.kt)("inlineCode",{parentName:"li"},"@ApiImplicitParams"),"\u6ce8\u89e3\u7684\u63a5\u53e3\u8fdb\u884c\u8bfb\u53d6\u8d4b\u503c"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OperationNicknameIntoUniqueIdReader"),":\u6635\u79f0\u5c5e\u6027,\u901a\u8fc7\u8bfb\u53d6",(0,r.kt)("inlineCode",{parentName:"li"},"@ApiOperation"),"\u6ce8\u89e3\u4e2d\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"nickname"),"\u5c5e\u6027\u8fdb\u884c\u8d4b\u503c"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OperationNotesReader"),":\u63a5\u53e3\u8bf4\u660e"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OperationParameterHeadersConditionReader"),":\u8bf7\u6c42\u5934"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OperationParameterReader"),":\u540e\u7aef\u914d\u7f6e\u7684\u5168\u5c40parameter\u4ee5\u53ca\u63a5\u53e3\u7684parameter\u53c2\u6570\u8fdb\u884c\u8bfb\u53d6\u8d4b\u503c"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OperationParameterRequestConditionReader"),":\u53c2\u6570\u6761\u4ef6"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OperationPositionReader"),":position\u5c5e\u6027"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OperationResponseClassReader"),":\u54cd\u5e94\u7c7b\u5904\u7406"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OperationSummaryReader"),":\u63a5\u53e3\u540d\u79f0"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OperationTagsReader"),":tags"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ResponseMessagesReader"),":\u54cd\u5e94\u72b6\u6001\u7801\u4fe1\u606f\uff0c\u5148\u8bfb\u53d6\u540e\u7aef\u914d\u7f6e\u7684\u5168\u5c40,\u7136\u540e\u8bfb\u53d6\u63a5\u53e3"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"SwaggerMediaTypeReader"),":consumes\u3001produces"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"SwaggerOperationResponseClassReader"),":\u54cd\u5e94class\u7c7b"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"SwaggerOperationTagsReader"),"\uff1a\u63a5\u53e3\u7684tags\u5904\u7406"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"SwaggerResponseMessageReader"),":\u72b6\u6001\u7801\u4fe1\u606f,\u9488\u5bf9",(0,r.kt)("inlineCode",{parentName:"li"},"@ApiResponse"),"\u6ce8\u89e3\u6807\u6ce8\u7684\u63a5\u53e3"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"VendorExtensionsReader"),":\u6269\u5c55")),(0,r.kt)("p",null,"\u6574\u4e2a\u4ee3\u7801\u7ed3\u6784\u4e00\u89c8\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{src:t(61403).Z,width:"501",height:"526"})),(0,r.kt)("h3",{id:"parameterbuilderplugin"},"ParameterBuilderPlugin"),(0,r.kt)("p",null,"\u9488\u5bf9\u53c2\u6570\u5904\u7406\u7684Plugin\uff0c\u5148\u6765\u770b\u76f8\u5173\u7c7b\u56fe\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{src:t(58271).Z,width:"2984",height:"590"})),(0,r.kt)("p",null,"\u603b\u5171\u6709\u4e03\u4e2a\u5b9e\u73b0\u7c7b\uff0c\u6211\u4eec\u4e00\u4e00\u8bf4\u660e\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ApiParamParameterBuilder"),":\u9488\u5bf9\u63a5\u53e3\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"li"},"@ApiParam"),"\u6ce8\u89e3\u7684\u53c2\u6570\u8fdb\u884c\u5904\u7406"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ParameterDataTypeReader"),":\u53c2\u6570\u7684\u6570\u636e\u7c7b\u578b"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ParameterDefaultReader"),":\u53c2\u6570\u9ed8\u8ba4\u503c"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ParameterMultiplesReader"),":"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ParameterNameReader"),":\u53c2\u6570\u540d\u79f0"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ParameterRequiredReader"),":\u53c2\u6570\u662f\u5426\u5fc5\u987b"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ParameterTypeReader"),"\uff1a\u53c2\u6570\u7c7b\u578b\uff0c\u5305\u62ec\uff08form\u3001header\u3001query\u3001formdata\u3001body\uff09\uff0c\u9ed8\u8ba4\u662fbody")),(0,r.kt)("h3",{id:"expandedparameterbuilderplugin"},"ExpandedParameterBuilderPlugin"),(0,r.kt)("p",null,"\u5148\u6765\u770b\u7c7b\u56fe\u5173\u7cfb"),(0,r.kt)("p",null,(0,r.kt)("img",{src:t(91360).Z,width:"1042",height:"719"})),(0,r.kt)("p",null,"\u4ece\u7c7b\u56fe\u5173\u7cfb\u4e2d,\u5b9e\u73b0\u7c7b\u4e3b\u8981\u6709\u4e24\u4e2a\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ExpandedParameterBuilder"),":\u5b9e\u4f53\u7c7b\u53c2\u6570\u7684\u9ed8\u8ba4\u5c5e\u6027\u8d4b\u503c"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"SwaggerExpandedParameterBuilder"),":\u9488\u5bf9\u6211\u4eec\u7684\u7c7b\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"li"},"@ApiModelProperty"),"\u6ce8\u89e3\u7684\u64cd\u4f5c")),(0,r.kt)("h3",{id:"operationmodelsproviderplugin"},"OperationModelsProviderPlugin"),(0,r.kt)("p",null,"\u6765\u770b\u7c7b\u56fe\u5173\u7cfb"),(0,r.kt)("p",null,(0,r.kt)("img",{src:t(43032).Z,width:"1044",height:"1049"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OperationModelsProvider"),":\u6536\u96c6\u6240\u6709\u7684\u53c2\u6570Models,\u8fd4\u56de\u7c7b\u578b\uff0c\u5168\u5c40Models"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"SwaggerOperationModelsProvider"),":\u63a5\u53e3\u8fd4\u56de\u7c7b\u578b\u5df2\u7ecf\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"li"},"@ApiResponse"),"\u6807\u6ce8\u7684\u8fd4\u56de\u7c7b\u578b")),(0,r.kt)("h3",{id:"defaultsproviderplugin"},"DefaultsProviderPlugin"),(0,r.kt)("p",null,"\u6765\u770b",(0,r.kt)("inlineCode",{parentName:"p"},"DefaultsProviderPlugin"),"\u7684\u6e90\u7801"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public interface DefaultsProviderPlugin extends Plugin<DocumentationType> {\n  /**\n   * Implement this method to override the @see  springfox.documentation.spi.service.contexts\n   * .DocumentationContextBuilder\n   *\n   * @param documentationType - creates a default DocumentationContextBuilder based on documentation type\n   * @return - returns the documentation context builder\n   */\n  DocumentationContextBuilder create(DocumentationType documentationType);\n}\n\n")),(0,r.kt)("p",null,"\u6839\u636e\u6587\u6863\u7c7b\u578b\u521b\u5efa",(0,r.kt)("inlineCode",{parentName:"p"},"DocumentationContextBuilder"),"\u5bf9\u8c61"),(0,r.kt)("p",null,"\u800c",(0,r.kt)("inlineCode",{parentName:"p"},"DefaultsProviderPlugin"),"\u53ea\u6709\u4e00\u4e2a\u5b9e\u73b0\u5b50\u7c7b,\u90a3\u5c31\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"springfox.documentation.spring.web.plugins.DefaultConfiguration")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public class DefaultConfiguration implements DefaultsProviderPlugin {\n\n  private final Defaults defaults;\n  private final TypeResolver typeResolver;\n  private final ServletContext servletContext;\n\n  public DefaultConfiguration(Defaults defaults,\n                       TypeResolver typeResolver,\n                       ServletContext servletContext) {\n\n    this.servletContext = servletContext;\n    this.defaults = defaults;\n    this.typeResolver = typeResolver;\n  }\n\n  @Override\n  public DocumentationContextBuilder create(DocumentationType documentationType) {\n    return new DocumentationContextBuilder(documentationType)\n            .operationOrdering(defaults.operationOrdering())\n            .apiDescriptionOrdering(defaults.apiDescriptionOrdering())\n            .apiListingReferenceOrdering(defaults.apiListingReferenceOrdering())\n            .additionalIgnorableTypes(defaults.defaultIgnorableParameterTypes())\n            .rules(defaults.defaultRules(typeResolver))\n            .defaultResponseMessages(defaults.defaultResponseMessages())\n            .pathProvider(new RelativePathProvider(servletContext))\n            .typeResolver(typeResolver)\n            .enableUrlTemplating(false)\n            .selector(ApiSelector.DEFAULT);\n  }\n\n  @Override\n  public boolean supports(DocumentationType delimiter) {\n    return true;\n  }\n}\n\n")),(0,r.kt)("p",null,"\u7ed9DocumentationContextBuilder\u521b\u5efa\u4e00\u7cfb\u5217\u7a7a\u5bf9\u8c61\u9ed8\u8ba4\u503c,\u65b9\u4fbf\u540e\u671f\u5176\u4ed6Plugin\u8fdb\u884c\u8d4b\u503c\u521d\u59cb\u5316"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Defaults"),"\u548c",(0,r.kt)("inlineCode",{parentName:"p"},"TypeResolver"),"\u5728\u524d\u9762\u7684Configuration\u914d\u7f6e\u7c7b\u4e2d\u5df2\u7ecf\u901a\u8fc7Bean\u6ce8\u89e3\u8fdb\u884c\u4e86\u6ce8\u5165"),(0,r.kt)("h3",{id:"pathdecorator"},"PathDecorator"),(0,r.kt)("p",null,"\u5148\u6765\u770b\u7c7b\u56fe\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{src:t(72869).Z,width:"1516",height:"506"})),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"PathDecorator"),"\u58f0\u660e\u4e86\u4e00\u4e2aGuava\u51fd\u6570\u5e93\u4e2d\u7684Function\u51fd\u6570\u63a5\u53e3"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Function")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"\n@GwtCompatible\npublic interface Function<F, T> {\n  @Nullable\n  @CanIgnoreReturnValue // TODO(kevinb): remove this\n  T apply(@Nullable F input);\n\n  /**\n   * <i>May</i> return {@code true} if {@object} is a {@code Function} that behaves identically to\n   * this function.\n   *\n   * <p><b>Warning: do not depend</b> on the behavior of this method.\n   *\n   * <p>Historically, {@code Function} instances in this library have implemented this method to\n   * recognize certain cases where distinct {@code Function} instances would in fact behave\n   * identically. However, as code migrates to {@code java.util.function}, that behavior will\n   * disappear. It is best not to depend on it.\n   */\n  @Override\n  boolean equals(@Nullable Object object);\n}\n")),(0,r.kt)("p",null,"\u4f20\u5165\u8f93\u5165\u53c2\u6570,\u8fd4\u56de\u8f93\u51fa\u53c2\u6570"),(0,r.kt)("p",null,"\u4e3b\u8981\u5b9e\u73b0\u7c7b\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OperationPathDecorator"),":basePath\u5904\u7406\u7c7b"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PathMappingDecorator"),":\u63a5\u53e3path\u5904\u7406"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PathSanitizer"),":\u63a5\u53e3path-origin\u5904\u7406"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"QueryStringUriTemplateDecorator"),":\u63a5\u53e3\u53c2\u6570\u5904\u7406")),(0,r.kt)("h3",{id:"apilistingscannerplugin"},"ApiListingScannerPlugin"),(0,r.kt)("p",null,"\u6765\u770b\u6e90\u7801"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public interface ApiListingScannerPlugin extends Plugin<DocumentationType> {\n  /**\n   * Implement this method to manually add ApiDescriptions\n   *\n   * @param context - Documentation context that can be used infer documentation context\n   * @see springfox.documentation.service.ApiDescription\n   * @return List of {@link ApiDescription}\n   */\n  List<ApiDescription> apply(DocumentationContext context);\n}\n\n")),(0,r.kt)("p",null,"\u8be5Plugin\u6ca1\u6709\u4efb\u4f55\u5b9e\u73b0\u5b50\u7c7b"),(0,r.kt)("h2",{id:"\u603b\u7ed3"},"\u603b\u7ed3"),(0,r.kt)("p",null,"\u901a\u8fc7\u4e0a\u9762\u7684Plugin,\u6211\u4eec\u5927\u81f4\u4e86\u89e3\u4e86Springfox\u4e2d\u5b9a\u4e49\u7684Plugin\u63a5\u53e3,\u4ee5\u53ca\u5b9e\u73b0\u7c7b,\u5b8c\u4e8b\u5177\u5907\uff0c\u6b64\u65f6\u53ea\u9700\u8981\u67e5\u770bspringfox\u7684\u521d\u59cb\u5316\u4ee3\u7801\u90e8\u5206\u4e86"),(0,r.kt)("p",null,"\u5728\u4e0b\u4e00\u7bc7\u6587\u7ae0\u4e2d\u6211\u4eec\u7ee7\u7eed."))}g.isMDXComponent=!0},9674:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/ApiListingBuilderPlugin-3b2dd7465b8850f0b50cc20db42d9a54.png"},68644:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/DocumentationPlugin-296d89fb609c2f0627e3027b935167f0.png"},91360:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/ExpandedParameterBuilderPlugin-174445ad55b48a496a3d6443d6933f0a.png"},73682:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/OperationBuilderPlugin-aac79ea43ebfb63cbaaeca149e3e9047.png"},43032:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/OperationModelsProviderPlugin-2c0b8506e1c2be1b7dbaa6e4c3281961.png"},58271:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/ParameterBuilderPlugin-13a40644ea5704cfddb3055f56f6482c.png"},72869:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/PathDecorator-cd5dfccca4ea54760bdf9c3666d63f4a.png"},35375:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/plugins-2ed4be87af296406142088e2503ecc2d.png"},61403:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/scan-5695bd9104e24c9d3380ceafbacbc43e.png"}}]);